<p-card
  header="Register"
  [style]="{
    width: '20rem',
    'margin-top': '2em',
    'margin-bottom': '2em',
    'margin-left': '40rem '
  }"
>
  <ng-template pTemplate="header">
    <img alt="Card" src="assets/pic.jpg" />
  </ng-template>

  <form (ngSubmit)="onSubmit()" #myForm="ngForm">
    <div class="form-group">
      <label for="name">Name</label>
      <input
        type="text"
        class="form-control"
        placeholder="Enter Name"
        [(ngModel)]="user.name"
        name="name"
        #name="ngModel"
        appUserNameValidator
        [class.is-invalid]="name.dirty && name.invalid"
        required
      />

      <div *ngIf="name.invalid && (name.dirty || name.touched)">
        <div *ngIf="name.errors?.required">Name is required.</div>
        <div *ngIf="name.errors?.userNameInvalid">Name must be a string</div>
      </div>
    </div>

    <div class="form-group">
      <label for="email">Email</label>
      <input
        type="text"
        class="form-control"
        placeholder="Enter Email"
        [(ngModel)]="user.email"
        name="email"
        #emails="ngModel"
        appEmailValidatorDirective
        [class.is-invalid]="emails.dirty && emails.invalid"
        required
      />

      <div *ngIf="emails.dirty || emails.touched">
        <div *ngIf="emails.errors?.required">Email is required.</div>
        <div *ngIf="emails.errors?.emailInvalid">Email is not Valid</div>
      </div>
    </div>

    <div class="form-group">
      <label for="phone-number">Phone Number</label>
      <input
        type="number"
        class="form-control"
        placeholder="Enter phone"
        [(ngModel)]="user.phoneNumber"
        name="phone"
        #phoneNgModel="ngModel"
        appPhoneNoValidator
        [class.is-invalid]="phoneNgModel.dirty && phoneNgModel.invalid"
      />
      <div
        *ngIf="
          (phoneNgModel.touched || phoneNgModel.dirty) &&
          phoneNgModel.errors?.phoneNumberInvalid
        "
      >
        Phone number must 11 digits
      </div>
    </div>

    <div class="form-group">
      <label for="password">Password</label>
      <input
        type="password"
        class="form-control"
        placeholder="Enter Password"
        [(ngModel)]="user.password"
        name="password"
        #password="ngModel"
        required
        [class.is-invalid]="password.dirty && password.invalid"
      />

      <div *ngIf="password.dirty || password.touched">
        <div *ngIf="password.errors?.required">Password is required.</div>
      </div>
    </div>

    <p-button type="submit" [disabled]="!myForm.valid">Submit</p-button>
  </form>
</p-card>
